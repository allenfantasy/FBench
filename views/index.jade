extends ./application

block head
    link(href="/famous.css" rel="stylesheet" type="text/css")
    script(src="/js/functionPrototypeBind.js")
    script(src="/js/classList.js")
    script(src="/js/requestAnimationFrame.js")
    script(src="/js/famous-global.js")

    script(src="/js/fastclick.min.js")
    link(href="/style.css" rel="stylesheet" type="text/css")
block content
  #footer
    #fps -- fps
    form#form
      li
        label Dots:&nbsp;
        select#dotQuantity(size="1")
          each val in dotSizes 
            if val == dotSize
              option(value="#{val}" selected="selected")= val
            else
              option(value="#{val}")= val
      li
        label Duration:&nbsp;
        select#duration(size="1")
          each val in durations 
            if val == duration
              option(value="#{val}" selected="selected") #{val} seconds
            else
              option(value="#{val}") #{val} seconds
      li
        label Engine:&nbsp;
        select#engine(size="1")
          each val in aniMethods 
            if val == aniMethod
              option(value="#{val}" selected="selected")= val
            else
              option(value="#{val}")= val
      li
        button.btn.btn-success#start(type="button" value="test" style="line-height:150%; margin-right: 10px;") START
        button.btn.btn-primary#checkRecord(type="button" value="test" style="line-height:150%;") CHECK RECORDS

  #instructions(style="opacity: 1; visibility: inherit;")
    h1 HTML5 Animation Speed Test
    p
      | Stress test the performance of various common JavaScript libraries. This test does&nbsp;
      strong not
      | &nbsp;use a canvas element
      | (although it certainly could) - it simply animates the left, top,
      | width, and height css properties of standard image elements. There are also versions of the GSAP and Zepto tests that use transforms ("translate/scale") instead so that you can compare performance.
      | The goal was to be extremely fair and use the same code for everything except the actual animation. No tricks.
      | Look at the source for yourself or run your own tests to confirm.
    p
      | Choose the number of dots you'd like to animate and then choose the
      | engine and click the "START" button below. Watch the&nbsp;
      strong fps
      | &nbsp;in the lower right
      | (higher is better - it is the average frames per second rendered).
      | As more dots are animated, you'll see the performance gap widen. Try to push things until the fps drops below 30fps. When the
      | CPU isn't breaking a sweat, fps should hover around 60fps in most modern browsers.
    p
      | Note: Zepto uses CSS3 transitions which won't work in some browsers (like IE9). Also beware that some browsers incorrectly fire requestAnimationFrame events even when the browser clearly isn't updating the screen and/or they handle JS in a different thread, thus 10fps transitions may inaccurately report in JS as running at 50fps. So when you're watching Zepto animate, don't pay much attention to the fps counter because it may be artificially high. Instead, watch the actual animation of the starfield and how smooth it is (or not).

  #container

block scripts
  script(src="/js/velocity.min.js")
  script(src="/js/CSSPlugin.min.js")
  script(src="/js/jquery.gsap.min.js")
  script(src="/js/TweenLite.min.js")
  script(src="/js/mootools-core-1.4.5-full-compat-yc.js")
  script(src="/js/dojo.js")
  script(src="/js/easing.js")
  script(src="/js/easeljs-0.4.2.min.js")
  script(src="/js/tweenjs-0.6.0.min.js")
  script(src="/js/tweenjs-cssplugin.js")
  script(src="/js/Ease.js")
  script(src="/js/zepto.min.js")
  script(src="/js/web-animations.min.js")
  script(src="/js/lodash.js")
  script(src="/js/test.js")
